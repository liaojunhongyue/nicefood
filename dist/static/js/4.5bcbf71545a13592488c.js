webpackJsonp([4],{"5hEr":function(t,i){},"6fgz":function(t,i){},ACi5:function(t,i){},Crc9:function(t,i){},qv5Z:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("TC6A"),a={render:function(){var t=this.$createElement,i=this._self._c||t;return this.isShowSubTitle?i("div",{ref:"articlecontent",staticClass:"form-list"},[i("div",{staticClass:"article-subtitle"},[i("input",{staticClass:"article-subtitle-text",attrs:{type:"text",placeholder:"添加二级标题"}}),this._v(" "),i("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:this.removeThis}})])]):this._e()},staticRenderFns:[]};var r=s("C7Lr")({data:function(){return{isShowSubTitle:!0}},methods:{removeThis:function(){this.isShowSubTitle=!1}}},a,!1,function(t){s("5hEr")},null,null).exports,c={render:function(){var t=this.$createElement,i=this._self._c||t;return this.isShowSection?i("div",{staticClass:"form-list"},[i("div",{staticClass:"article-section"},[i("textarea",{staticClass:"article-section-textarea",attrs:{placeholder:"添加段落文字"}}),this._v(" "),i("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:this.removeThis}})])]):this._e()},staticRenderFns:[]};var n=s("C7Lr")({data:function(){return{isShowSection:!0}},methods:{removeThis:function(){this.isShowSection=!1}}},c,!1,function(t){s("Crc9")},null,null).exports,l={data:function(){return{isShowPicture:!0,isShowImg:!1}},methods:{removeThis:function(){this.isShowPicture=!1},selectFile:function(t){for(var i=this,s=(t=t||window.event).target.files,e=0;e<=s.length;e++){var a=s[e],r=new FileReader;r.onload=function(t){""!==this.result&&(i.isShowImg=!0,i.$refs.articleImg.src=this.result)},r.readAsDataURL(a)}}}},o={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.isShowPicture?s("div",{staticClass:"form-list"},[s("div",{staticClass:"article-content-pic"},[s("div",{staticClass:"article-content-picbg"},[s("i",{staticClass:"fa fa-plus-square",attrs:{"aria-hidden":"true"}}),t._v(" "),s("p",[t._v("添加图片")]),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowImg,expression:"isShowImg"}],ref:"articleImg",staticClass:"article-img",attrs:{src:""}}),t._v(" "),s("input",{staticClass:"article-content-pic-upload",attrs:{type:"file"},on:{change:t.selectFile}})]),t._v(" "),s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:t.removeThis}})])]):t._e()},staticRenderFns:[]};var u=s("C7Lr")(l,o,!1,function(t){s("ACi5")},null,null).exports,h=s("suVo"),d={components:{"f-normal-header":e.a,"sub-title":r,"article-section":n,"article-picture":u,toast:h.a},data:function(){return{isShowPic:!1,items:[],isShowPrompt:!1,promptCallback:""}},methods:{mainPicSelect:function(t){for(var i=this,s=(t=t||window.event).target.files,e=0;e<=s.length;e++){var a=s[e],r=new FileReader;r.onload=function(t){""!==this.result&&(i.isShowPic=!0,i.$refs.mainpic.src=this.result)},r.readAsDataURL(a)}},addSubTitle:function(){this.items.push({component:r})},addSection:function(){this.items.push({component:n})},addPicture:function(){this.items.push({component:u})},submitArticle:function(){var t=this,i=this.$refs.mainImg.value,s=this.$refs.mainTitle.value;""===i?(this.promptCallback="请上传文章封面图",this.showPrompt()):""===s?(this.promptCallback="请添加文章标题",this.showPrompt()):(this.promptCallback="文章提交成功，请等待管理员审核",this.isShowPrompt=!0,setTimeout(function(){t.isShowPrompt=!1,t.$router.replace("/user/publish/article")},1500))},showPrompt:function(){var t=this;this.isShowPrompt=!0,setTimeout(function(){t.isShowPrompt=!1},1500)}}},m={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"create-article"},[s("f-normal-header",{attrs:{message:"创作文章",historyurl:""}}),t._v(" "),s("p",{staticClass:"article-publish",on:{click:t.submitArticle}},[t._v("发布")]),t._v(" "),s("div",{staticClass:"add-article"},[s("form",{ref:"addarticleform",attrs:{id:"addArticleForm"}},[s("div",{staticClass:"form-list"},[s("div",{staticClass:"article-pic"},[s("div",{staticClass:"article-picbg"},[s("i",{staticClass:"fa fa-plus-square",attrs:{"aria-hidden":"true"}}),t._v(" "),s("p",[t._v("添加封面图")]),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowPic,expression:"isShowPic"}],ref:"mainpic",staticClass:"article-img"}),t._v(" "),s("input",{ref:"mainImg",staticClass:"article-pic-upload",attrs:{type:"file"},on:{change:t.mainPicSelect}})])])]),t._v(" "),s("div",{staticClass:"form-list"},[s("input",{ref:"mainTitle",staticClass:"article-title",attrs:{type:"text",name:"menuTitle",placeholder:"添加文章标题"}})]),t._v(" "),s("div",{staticClass:"add-component"},t._l(t.items,function(t,i){return s(t.component,{key:i,tag:"div"})}),1)]),t._v(" "),s("div",{staticClass:"add-article-details"},[s("div",{staticClass:"details-item",on:{click:t.addSubTitle}},[s("i",{staticClass:"fa fa-file-powerpoint-o",attrs:{"aria-hidden":"true"}}),t._v(" "),s("p",[t._v("添加二级标题")])]),t._v(" "),s("div",{staticClass:"details-item",on:{click:t.addSection}},[s("i",{staticClass:"fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),t._v(" "),s("p",[t._v("添加段落文字")])]),t._v(" "),s("div",{staticClass:"details-item",on:{click:t.addPicture}},[s("i",{staticClass:"fa fa-file-image-o",attrs:{"aria-hidden":"true"}}),t._v(" "),s("p",[t._v("添加图片")])])])]),t._v(" "),s("toast",{directives:[{name:"show",rawName:"v-show",value:t.isShowPrompt,expression:"isShowPrompt"}],attrs:{prompttext:t.promptCallback}})],1)},staticRenderFns:[]};var f=s("C7Lr")(d,m,!1,function(t){s("6fgz")},null,null);i.default=f.exports}});
//# sourceMappingURL=4.5bcbf71545a13592488c.js.map